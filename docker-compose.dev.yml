version: '3.8'

services:
  python:
    build: .
    volumes:
      - ./:/proj
    tty: true
    env_file: ./.env
    environment:
      DOCKER_IMAGE: ${DOCKER_IMAGE}
      DOCKER_URL: ${DOCKER_URL}
      DOCKER_HASH: ${DOCKER_HASH}
      DOCKER_FILE_PATH: ${DOCKER_FILE_PATH}
      COMPOSE_FILE_PATH: ${COMPOSE_FILE_PATH}
      GIT_REPO: ${GIT_REPO}
      GIT_HASH: ${GIT_HASH}
    networks:
      - graph-net
  graphdb:
    image: ontotext/graphdb:10.2.1
    container_name: db
    volumes:
      - ./graphdb-data/home:/opt/graphdb/home
    ports:
      - "7200:7200"
    networks:
      - graph-net
networks:
  graph-net:
    driver: bridge
